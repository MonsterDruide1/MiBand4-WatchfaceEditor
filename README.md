# MiBand4-WatchfaceEditor
This tool is able to build a WatchFace for the MiBand4. It supports many elements, like Hours, Minutes and Seconds, but also Steps/Distance, Status (Bluetooth connected?/Locked), date and more.

## Preparing
You can download the latest release from the releases page. For execution, you need the Java JRE, available at [java.com](https://java.com/de/download/).
At the start, you will be asked for the "Tool path". This program is based on the [MiBandWFTool](https://amazfitwatchfaces.com/forum/viewtopic.php?f=29&t=720), so you need to download that too.
After extracting the tool, you need to select the folder of the tool in the Dialog. To avoid this message, put the folder of the tool next to the .jar-file and name it "MiBandWFTool_1.3.8_Palette", with a new release of the Tool rename it to this version.

## Execution
After the start of the program, a error message opens: *"The background image hasn't been found, please put it in your project folder as "0000.png"!"*. It automatically tries to load the project in a folder called "data" next to the .jar-File.
To start a new Project, go to "File" -> "New" and select the folder it should go to. 
Then you can start to work on your Watchface. The standard-background is simply black; you can replace it by replacing the "background.png" with another 120x240 pixel image. You also need to put images for your font into the folder. Every image included in the layout should be named with a 4-Digit number, starting with "0001.png". It doesn't have to be a continuing number. If you want different font sizes, you need a new set of images every time.

## Import
You can also import a .bin-file for editing. Simply select "File" -> "Import" or press CTRL+I and select the .bin-file. The program automatically unpacks the file and creates a project next to it.

## Add new Elements
To add new Elements to your layout, right click on the background and go into the sub-menu "Add". From there you can select the topic and the specific element. After selecting the element, you will be asked for some data. You can check the meaning of every question in the Wiki. After setting the last property, the element will be added to the layout. Every element is placed inside of a container. You can resize some of the components container by dragging the bottom right corner, this doesn't change the size of the element itself.

## Edit properties
If you want to change a property of one of the components, you can right click on it and select "Edit" and then the property you want to edit.

## Delete elements
To delete a component of your watchface, simply right click on it and select "Delete"

## Generating
When you are finished with your layout, right click on an empty space and select "Generate". Your layout will be generated as "watchface_packed.bin" into your project dir. There you also find "watchface_packed_animated.gif" and "watchface_packed_static.png", the preview images generated by the MiBandWFTool.


## Building
If you want to change something in the source code or contribute to this project, you can simply open the folder "MiBand4Editor" in Eclipse. Maven is not used. Maybe you have to reconfigure the path to the json-lib, it can be found in the root of the project.
